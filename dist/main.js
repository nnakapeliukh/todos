(()=>{"use strict";function e(e){let t=e,n="",l="",o="",i="",c=[];return{getTitle:function(){return t},setTitle:function(e){t=e},setDescription:function(e){n=e},getDescription:function(){return n},setDueDate:function(e){l=e},getDueDate:function(){return l},setPriority:function(e){o=e},getPriority:function(){return o},setNotes:function(e){i=e},getNotes:function(){return i},addToChecklist:function(e){c.push(e)},removeFromChecklist:function(e){c.splice(e,1)}}}function t(e){let t=e,n="",l=[],o=0;return{setId:function(e){o=e},getId:function(){return o},setTitle:function(e){t=e},getTitle:function(){return t},setDescription:function(e){n=e},getDescription:function(){return n},addTodoItem:function(e){l.push(e)},removeTodoItem:function(e){l.splice(e,1)},getTodoItems:function(){return l}}}const n=(()=>{let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),l=()=>{},o=()=>{},i=()=>{},c=()=>{},d=()=>{},r=()=>{};function s(e,t,n,l){let o=document.createElement("img");o.src="../src/Img/Edit_icon.png",e.appendChild(o),o.style.cssText="width: 20px;\n                                        position: absolute;\n                                        top: 5px;\n                                        right:3px;\n                                        display: none;";let i=document.createElement("img");i.src="../src/Img/Delete_icon.png",e.appendChild(i),i.style.cssText="width: 20px;\n                                        position: absolute;\n                                        top: 5px;\n                                        right:28px;\n                                        display: none;",e.addEventListener("mouseover",(()=>{o.style.display="block",i.style.display="block"})),e.addEventListener("mouseout",(()=>{o.style.display="none",i.style.display="none"})),o.addEventListener("click",(()=>{window.event.stopPropagation(),t(l)})),i.addEventListener("click",(()=>{window.event.stopPropagation(),n(l)}))}function a(e,t,n){let l=document.createElement("div");switch(t.appendChild(l),l.classList.add("todo-class"),e.getPriority()){case 1:l.classList.add("low-todo-class");break;case 2:l.classList.add("med-todo-class");break;case 3:l.classList.add("high-todo-class")}let o=document.createElement("h4");l.appendChild(o),o.classList="todo-title",o.innerHTML=e.getTitle();let i=document.createElement("p");l.appendChild(i),i.classList="todo-text",i.innerHTML=e.getDescription(),s(l,m,r,n)}function p(t){let n=document.createElement("div");e.appendChild(n),n.className="create-element-form";let o=document.createElement("span");o.innerHTML="x",o.classList.add("closebtn"),o.title="Close",n.appendChild(o),o.addEventListener("click",u(n)),o.className="close-button";let i=document.createElement("div");n.appendChild(i),i.className="create-project-overlay";let c=document.createElement("h1");i.appendChild(c),c.innerHTML="Create new project",c.classList.add("text-form");let r=document.createElement("label");i.appendChild(r);let s=document.createElement("p");r.appendChild(s),s.innerHTML="Title",s.classList="text-form";let a=document.createElement("input");r.appendChild(a),a.type="text",a.name="projectTitle",a.placeholder="Title",a.classList="input-form",a.maxLength="37";let p=document.createElement("label");i.appendChild(p),p.style.display="block";let m=document.createElement("p");p.appendChild(m),m.innerHTML="Description",m.classList="text-form";let h=document.createElement("textarea");p.appendChild(h),h.rows="3",h.cols="40",h.maxLength="100",h.style.resize="none",h.style.lineHeight="3em",h.classList="input-form",h.placeholder="Notes...\nMore notes...";let f=document.createElement("button");i.appendChild(f),f.className="button-form",f.innerHTML="Create",f.addEventListener("click",(()=>{if(t){if(t){if(!d(t,a.value,h.value))return;u(n)()}}else{if(!l(a.value,h.value))return;u(n)()}})),t&&(a.value=t.getTitle(),h.value=t.getDescription(),c.innerHTML=a.value,f.innerHTML="Modify")}function u(e){return()=>e.remove()}function m(t){let n=document.createElement("div");e.appendChild(n),n.className="create-element-form";let l=document.createElement("span");l.innerHTML="x",l.classList.add("closebtn"),l.title="Close",n.appendChild(l),l.addEventListener("click",h(n)),l.className="close-button";let o=document.createElement("div");n.appendChild(o),o.id="create-todo-overlay";let i=document.createElement("h1");o.appendChild(i),i.innerHTML="Add a new todo item",i.classList.add("text-form");let d=document.createElement("label");o.appendChild(d);let r=document.createElement("p");d.appendChild(r),r.innerHTML="Title",r.classList="text-form";let s=document.createElement("input");d.appendChild(s),s.type="text",s.name="projectTitle",s.placeholder="Title",s.classList="input-form";let a=document.createElement("label");o.appendChild(a),a.style.display="block";let p=document.createElement("p");a.appendChild(p),p.innerHTML="Description",p.classList="text-form";let u=document.createElement("textarea");a.appendChild(u),u.rows="2",u.cols="40",u.style.resize="none",u.style.lineHeight="3em",u.classList="input-form",u.placeholder="Notes...\nMore notes...";let m=document.createElement("label");o.appendChild(m),m.style.display="block";let f=document.createElement("p");m.appendChild(f),f.innerHTML="Due Date",f.classList="text-form";let y=document.createElement("input");m.appendChild(y),y.type="date",y.classList="input-form";let L=document.createElement("label");o.appendChild(L),m.style.display="block";let E=document.createElement("p");L.appendChild(E),E.innerHTML="Priority",E.classList="text-form";let v=document.createElement("div");L.appendChild(v),v.classList="proirity-select",v.id="low-pty",v.priorityNum=1,v.style.backgroundColor=`${colorScheme.lowPriorityBackground}`,v.addEventListener("click",(()=>{b(v)}));let C=document.createElement("div");L.appendChild(C),C.classList="proirity-select",C.id="med-pty",C.priorityNum=2,C.style.backgroundColor=`${colorScheme.medPriorityBackground}`,C.style.border=`3px solid ${colorScheme.prioritySelect}`,C.addEventListener("click",(()=>{b(C)}));let g=document.createElement("div");L.appendChild(g),g.classList="proirity-select",g.id="high-pty",g.priorityNum=3,g.style.backgroundColor=`${colorScheme.highPriorityBackground}`,g.addEventListener("click",(()=>{b(g)}));let T=2;function b(e){let t=document.getElementsByClassName("proirity-select");for(let e=0;e<t.length;e++)t[e].style.cssText+="\n                                                border: none;\n                                                ";e.style.border=`3px solid ${colorScheme.prioritySelect}`,T=e.priorityNum}let x=document.createElement("button");o.appendChild(x),x.classList="button-form",x.innerHTML="Create",x.addEventListener("click",(()=>{c(s.value,u.value,y.value,T)&&h(n)()}))}function h(e){return()=>e.remove()}return{init:function(s,a,p,u,m,h){l=s,o=a,i=p,c=u,d=m,r=h,document.getElementById("content").appendChild(e),document.body.style.background="#111",e.appendChild(t),e.appendChild(n),t.className="proects-div",n.className="todos-div"},renderProjectsFromList:function(e){if(document.querySelectorAll(".project-class").forEach((e=>e.remove())),!document.getElementById("add-project-button-id")){let e=document.createElement("div");t.appendChild(e),e.classList.add("add-button-class"),e.id="add-project-button-id",e.innerHTML="add project",e.addEventListener("click",(()=>p(null)))}for(let n=0;n<e.length;n++){let l=e[n];const c=document.createElement("div");t.appendChild(c),c.classList="project-class",c.addEventListener("click",(()=>{o(l)}));let d=document.createElement("h2");c.appendChild(d),d.innerHTML=l.getTitle(),d.className="text-page";let r=document.createElement("p");c.appendChild(r),r.innerHTML=l.getDescription(),r.className="text-page",s(c,p,i,l)}},displaySelectedProject:function(e){document.querySelectorAll("#temp-todo").forEach((e=>e.remove()));let t=document.createElement("div");t.id="temp-todo",n.appendChild(t),t.style.cssText=n.style.cssText;let l=document.createElement("div");if(t.appendChild(l),l.classList.add("add-button-class"),l.innerHTML="Add todo",l.addEventListener("click",(()=>m())),e){const n=e.getTodoItems();for(let l=0;l<n.length;l++)a(n[l],t,e)}}}})();let l=[];const o=function(l){const o=l;let i="",c=0;function d(){n.renderProjectsFromList(o),n.displaySelectedProject(i)}function r(e){i=e,d()}function s(e,n){if(c++,e){let l=t(e);return l.setDescription(n),l.setId(c),o.push(l),d(),!0}return!1}function a(e){for(let t=0;t<o.length;t++)if(e===o[t])return i===e&&h(o[t-1]),o.splice(t,1),void d()}function p(e,t,n){return!!t&&(e.setTitle(t),e.setDescription(n),d(),!0)}function u(t,n,l,o){if(t){let l=e(t);return l.setDescription(n),l.setPriority(o),i.addTodoItem(l),d(),!0}return!1}function m(e,t){let n=e.getTodoItems();for(let t=0;t<n.length;t++)if(e===n[t])return e.removeTodo(t),void d()}function h(e){i=e}return{start:function(){n.init(s,r,a,u,p,m),i=o[0],d()},addProject:s,removeProject:a,addTodo:u,removeTodo:m,setSelectedProject:h,getSelectedProject:function(){return i}}}(l),i=e("Default to do item N1");i.setPriority(1);const c=e("Default to do item N2");c.setPriority(2);const d=e("Default to do item N3");d.setPriority(3);const r=t("Default project ");r.setDescription("This is a default project that should be removed. \n Feel free to create a new one."),t("New default project 2"),r.addTodoItem(i),r.addTodoItem(c),r.addTodoItem(d),l.push(r),document.getElementById("content"),o.start(o)})();