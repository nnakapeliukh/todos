(()=>{"use strict";function e(e){let t=e,n="",l="",i="",o="",d=[];return{getTitle:function(){return t},setTitle:function(e){t=e},setDescription:function(e){n=e},getDescription:function(){return n},setDueDate:function(e){l=e},getDueDate:function(){return l},setPriority:function(e){i=e},getPriority:function(){return i},setNotes:function(e){o=e},getNotes:function(){return o},addToChecklist:function(e){d.push(e)},removeFromChecklist:function(e){d.splice(e,1)}}}function t(e){let t=e,n="",l=[],i=0;return{setId:function(e){i=e},getId:function(){return i},setTitle:function(e){t=e},getTitle:function(){return t},setDescription:function(e){n=e},getDescription:function(){return n},addTodoItem:function(e){l.push(e)},removeTodoItem:function(e){l.splice(e,1)},getTodoItems:function(){return l}}}const n=(()=>{let e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),l=()=>{},i=()=>{},o=()=>{},d=()=>{},c=()=>{},r=()=>{},s=()=>{};function a(e,t,n,l){let i=document.createElement("img");i.src="../src/Img/Edit_icon.png",e.appendChild(i),i.style.cssText="width: 20px;\n                                        position: absolute;\n                                        top: 5px;\n                                        right:3px;\n                                        display: none;";let o=document.createElement("img");o.src="../src/Img/Delete_icon.png",e.appendChild(o),o.style.cssText="width: 20px;\n                                        position: absolute;\n                                        top: 5px;\n                                        right:28px;\n                                        display: none;",e.addEventListener("mouseover",(()=>{i.style.display="block",o.style.display="block"})),e.addEventListener("mouseout",(()=>{i.style.display="none",o.style.display="none"})),i.addEventListener("click",(()=>{window.event.stopPropagation(),t(l)})),o.addEventListener("click",(()=>{window.event.stopPropagation(),n(l)}))}function p(e,t,n){let l=document.createElement("div");switch(t.appendChild(l),l.classList.add("todo-class"),e.getPriority()){case 1:l.classList.add("low-todo-class");break;case 2:l.classList.add("med-todo-class");break;case 3:l.classList.add("high-todo-class")}let i=document.createElement("h4");l.appendChild(i),i.classList="todo-title",i.innerHTML=e.getTitle();let o=document.createElement("p");l.appendChild(o),o.classList="todo-text",o.innerHTML=e.getDescription(),a(l,f,r,e)}function u(t){let n=document.createElement("div");e.appendChild(n),n.className="create-element-form";let i=document.createElement("span");i.innerHTML="x",i.classList.add("closebtn"),i.title="Close",n.appendChild(i),i.addEventListener("click",m(n)),i.className="close-button";let o=document.createElement("div");n.appendChild(o),o.className="create-project-overlay";let d=document.createElement("h1");o.appendChild(d),d.innerHTML="Create new project",d.classList.add("text-form");let r=document.createElement("label");o.appendChild(r);let s=document.createElement("p");r.appendChild(s),s.innerHTML="Title",s.classList="text-form";let a=document.createElement("input");r.appendChild(a),a.type="text",a.name="projectTitle",a.placeholder="Title",a.classList="input-form",a.maxLength="37";let p=document.createElement("label");o.appendChild(p),p.style.display="block";let u=document.createElement("p");p.appendChild(u),u.innerHTML="Description",u.classList="text-form";let f=document.createElement("textarea");p.appendChild(f),f.rows="3",f.cols="40",f.maxLength="100",f.style.resize="none",f.style.lineHeight="3em",f.classList="input-form",f.placeholder="Notes...\nMore notes...";let h=document.createElement("button");o.appendChild(h),h.className="button-form",h.innerHTML="Create",h.addEventListener("click",(()=>{if(t){if(t){if(!c(t,a.value,f.value))return;m(n)()}}else{if(!l(a.value,f.value))return;m(n)()}})),t&&(a.value=t.getTitle(),f.value=t.getDescription(),d.innerHTML=a.value,h.innerHTML="Modify")}function m(e){return()=>e.remove()}function f(t){let n=document.createElement("div");e.appendChild(n),n.className="create-element-form";let l=document.createElement("span");l.innerHTML="x",l.classList.add("closebtn"),l.title="Close",n.appendChild(l),l.addEventListener("click",h(n)),l.className="close-button";let i=document.createElement("div");n.appendChild(i),i.id="create-todo-overlay";let o=document.createElement("h1");i.appendChild(o),o.innerHTML="Add a new todo item",o.classList.add("text-form");let c=document.createElement("label");i.appendChild(c);let r=document.createElement("p");c.appendChild(r),r.innerHTML="Title",r.classList="text-form";let a=document.createElement("input");c.appendChild(a),a.type="text",a.name="projectTitle",a.placeholder="Title",a.classList="input-form";let p=document.createElement("label");i.appendChild(p),p.style.display="block";let u=document.createElement("p");p.appendChild(u),u.innerHTML="Description",u.classList="text-form";let m=document.createElement("textarea");p.appendChild(m),m.rows="2",m.cols="40",m.style.resize="none",m.style.lineHeight="3em",m.classList="input-form",m.placeholder="Notes...\nMore notes...";let f=document.createElement("label");i.appendChild(f),f.style.display="block";let y=document.createElement("p");f.appendChild(y),y.innerHTML="Due Date",y.classList="text-form";let L=document.createElement("input");f.appendChild(L),L.type="date",L.classList="input-form";let E=document.createElement("label");i.appendChild(E),f.style.display="block";let v=document.createElement("p");E.appendChild(v),v.innerHTML="Priority",v.classList="text-form";let T=document.createElement("div");E.appendChild(T),T.classList="proirity-select",T.id="low-pty",T.priorityNum=1,T.style.backgroundColor="#b16562",T.addEventListener("click",(()=>{x(T)}));let g=document.createElement("div");E.appendChild(g),g.classList="proirity-select",g.id="med-pty",g.priorityNum=2,g.style.backgroundColor="#a75553",g.style.border="3px solid #679b9d",g.addEventListener("click",(()=>{x(g)}));let C=document.createElement("div");E.appendChild(C),C.classList="proirity-select",C.id="high-pty",C.priorityNum=3,C.style.backgroundColor="#854442",C.addEventListener("click",(()=>{x(C)}));let b=2;function x(e){let t=document.getElementsByClassName("proirity-select");for(let e=0;e<t.length;e++)t[e].style.cssText+="\n                                                border: none;\n                                                ";e.style.border="3px solid #679b9d",b=e.priorityNum}let k=document.createElement("button");if(i.appendChild(k),k.classList="button-form",k.innerHTML="Create",k.addEventListener("click",(()=>{if(t)t&&s(a.value,m.value,L.value,b,t)&&h(n)();else{if(!d(a.value,m.value,L.value,b))return;h(n)()}})),t)switch(k.innerHTML="Modify",o.innerHTML=t.getTitle(),a.value=t.getTitle(),m.value=t.getDescription(),L.value=t.getDueDate(),t.getPriority){case 1:x(T);break;case 2:x(g);break;case 3:x(C)}}function h(e){return()=>e.remove()}return{init:function(a,p,u,m,f,h,y){l=a,i=p,o=u,d=m,c=f,r=h,s=y,document.getElementById("content").appendChild(e),document.body.style.background="#111",e.appendChild(t),e.appendChild(n),t.className="proects-div",n.className="todos-div"},renderProjectsFromList:function(e){if(document.querySelectorAll(".project-class").forEach((e=>e.remove())),!document.getElementById("add-project-button-id")){let e=document.createElement("div");t.appendChild(e),e.classList.add("add-button-class"),e.id="add-project-button-id",e.innerHTML="add project",e.addEventListener("click",(()=>u(null)))}for(let n=0;n<e.length;n++){let l=e[n];const d=document.createElement("div");t.appendChild(d),d.classList="project-class",d.addEventListener("click",(()=>{i(l)}));let c=document.createElement("h2");d.appendChild(c),c.innerHTML=l.getTitle(),c.className="text-page";let r=document.createElement("p");d.appendChild(r),r.innerHTML=l.getDescription(),r.className="text-page",a(d,u,o,l)}},displaySelectedProject:function(e){document.querySelectorAll("#temp-todo").forEach((e=>e.remove()));let t=document.createElement("div");t.id="temp-todo",n.appendChild(t),t.style.cssText=n.style.cssText;let l=document.createElement("div");if(t.appendChild(l),l.classList.add("add-button-class"),l.innerHTML="Add todo",l.addEventListener("click",(()=>f(null))),e){const n=e.getTodoItems();for(let e=0;e<n.length;e++)p(n[e],t)}}}})();let l=[];const i=function(l){const i=l;let o="",d=0;function c(){n.renderProjectsFromList(i),n.displaySelectedProject(o)}function r(e){o=e,c()}function s(e,n){if(d++,e){let l=t(e);return l.setDescription(n),l.setId(d),i.push(l),c(),!0}return!1}function a(e){for(let t=0;t<i.length;t++)if(e===i[t])return o===e&&h(i[t-1]),i.splice(t,1),void c()}function p(e,t,n){return!!t&&(e.setTitle(t),e.setDescription(n),c(),!0)}function u(t,n,l,i){if(t){let l=e(t);return l.setDescription(n),l.setPriority(i),o.addTodoItem(l),c(),!0}return!1}function m(e){let t=o.getTodoItems();for(let n=0;n<t.length;n++)if(e===t[n])return o.removeTodoItem(n),void c()}function f(e,t,n,l,i){return i.setTitle(e),i.setDescription(t),i.setPriority(l),!0}function h(e){o=e}return{start:function(){n.init(s,r,a,u,p,m,f),o=i[0],c()},addProject:s,removeProject:a,addTodo:u,removeTodo:m,modifyTodo:f,setSelectedProject:h,getSelectedProject:function(){return o}}}(l),o=e("Default to do item N1");o.setPriority(1);const d=e("Default to do item N2");d.setPriority(2);const c=e("Default to do item N3");c.setPriority(3);const r=t("Default project ");r.setDescription("This is a default project that should be removed. \n Feel free to create a new one."),t("New default project 2"),r.addTodoItem(o),r.addTodoItem(d),r.addTodoItem(c),l.push(r),document.getElementById("content"),i.start(i)})();